<h1 id="databricks-sql-connector">Databricks SQL Connector<a aria-hidden="true" class="anchor-heading icon-link" href="#databricks-sql-connector"></a></h1>
<p>The Databricks SQL Connector for Python is a Python library that allows you to use Python code to run SQL commands on Databricks clusters and Databricks SQL warehouses.</p>
<h2 id="install-the-library">Install the library<a aria-hidden="true" class="anchor-heading icon-link" href="#install-the-library"></a></h2>
<pre class="language-cmd"><code class="language-cmd">pip install databricks-sql-connector
</code></pre>
<h2 id="query-data">Query data<a aria-hidden="true" class="anchor-heading icon-link" href="#query-data"></a></h2>
<pre class="language-python"><code class="language-python"><span class="token keyword">from</span> databricks <span class="token keyword">import</span> sql
<span class="token keyword">import</span> os

<span class="token keyword">with</span> sql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>server_hostname <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">"DATABRICKS_SERVER_HOSTNAME"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 http_path       <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">"DATABRICKS_HTTP_PATH"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                 access_token    <span class="token operator">=</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">"DATABRICKS_TOKEN"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">as</span> connection<span class="token punctuation">:</span>

  <span class="token keyword">with</span> connection<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> cursor<span class="token punctuation">:</span>
    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">"SELECT * FROM default.diamonds LIMIT 2"</span><span class="token punctuation">)</span>
    result <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> row <span class="token keyword">in</span> result<span class="token punctuation">:</span>
      <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>
</code></pre>
<h2 id="references">References<a aria-hidden="true" class="anchor-heading icon-link" href="#references"></a></h2>
<ul>
<li><a href="https://docs.databricks.com/dev-tools/python-sql-connector.html#get-started">https://docs.databricks.com/dev-tools/python-sql-connector.html#get-started</a></li>
</ul>